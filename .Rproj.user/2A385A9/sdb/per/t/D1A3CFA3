{
    "collab_server" : "",
    "contents" : "# File to create all the experiments that we feed into the \n# solver.\nlibrary(tidyverse)\n# One line corresponds to one experiment\nprintExperiment = function(experimentVector) \n{\n  fileConn = file(\"experiments.txt\")\n  write(experimentVector, fileConn)\n  close(fileConn)\n}\n\nexperimentTable = tibble(nbORs = 1, nbSurgeries = 1, cf = 1,\n                         cv = 0.3, nbHours = 8.1, meanDuration = 1.1,\n                         stdDuration = 1.1, mu = 1.1, sig = 1.1,\n                         eps1 = 1.1, eps2 = 1.1, nbScenarios = 1, seed = 1)\nexperimentTable = experimentTable[-1,]\n\n\n#### Base experiment ####\nbaseExperiment = tibble(\n  nbORs \t\t\t  = 10,\n  nbSurgeries   = nbORs,\n  cf \t\t\t\t    = 1,\n  cv \t\t\t\t    = 0.13,\n  nbHours \t\t  = 8,\n  meanDuration \t= 200,\n  stdDuration \t= 12.12^2,\n  mu \t\t\t\t    = log(meanDuration^2 / sqrt(stdDuration + meanDuration^2)),\n  sig \t\t\t    = sqrt(log(stdDuration / meanDuration^2 + 1)),\n  eps1 \t\t\t    = 0.1,\n  eps2 \t\t\t    = 0.1,\n  nbScenarios \t= 200,\n  seed \t\t\t    = 1\n)\n\nexperimentTable = baseExperiment\n\n#### Define all experiments ####\ncreateExperiments = function(variableName, values) {\n  newExperiments = baseExperiment[rep(1, length(values)),]\n  newExperiments[[variableName]] = values \n  \n  if (variableName %in% c(\"meanDuration\", \"stdDuration\")) {\n    newExperiments[[\"mu\"]] = log(newExperiments[[\"meanDuration\"]]^2 / sqrt(newExperiments[[\"stdDuration\"]] + newExperiments[[\"meanDuration\"]]^2))\n    newExperiments[[\"sig\"]] = sqrt(log(newExperiments[[\"stdDuration\"]] / newExperiments[[\"meanDuration\"]]^2 + 1))\n  } \n  \n  return(newExperiments)\n}\n\ngridSize = 10\n# Alter the overtime costs\ncv_options = seq(0.05, 0.5, length.out = gridSize)\nexperimentTable = experimentTable %>%\n  bind_rows(createExperiments(\"cv\", cv_options))\n\n# Alter meanDuration\nmeanDur = seq(100, 300, length.out = gridSize)\nexperimentTable = experimentTable %>%\n  bind_rows(createExperiments(\"meanDuration\", meanDur))\n\n# Alter the standard deviation\nstdDur = seq(5^2, 20^2, length.out = gridSize)\nexperimentTable = experimentTable %>%\n  bind_rows(createExperiments(\"stdDuration\", stdDur))\n\n# Eps1\neps1_options = seq(0, 5, length.out = gridSize)\nexperimentTable = experimentTable %>%\n  bind_rows(createExperiments(\"eps1\", eps1_options))\n\n# Eps2\neps2_options = seq(0, 5, length.out = gridSize)\nexperimentTable = experimentTable %>%\n  bind_rows(createExperiments(\"eps2\", eps2_options))\n\n# Seed\nseed_options = seq(1, 20, by=1)\nexperimentTable = experimentTable %>%\n  bind_rows(createExperiments(\"seed\", seed_options))\n\n#### Output the experiments table ####\nwrite.table(experimentTable, file=\"experiments.txt\", row.names=FALSE, col.names=FALSE)",
    "created" : 1524612788137.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2272728068",
    "id" : "D1A3CFA3",
    "lastKnownWriteTime" : 1524652533,
    "last_content_update" : 1524652533974,
    "path" : "~/Documents/LPR/code/createExperiments.R",
    "project_path" : "createExperiments.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}